"""
=== БЛОК А: ЗАДАЧА 4 ===
Дано натуральное число N. Вычислите сумму его цифр.
При решении этой задачи нельзя использовать строки, списки, массивы
"""

def sum_digits(n):
    """
    Рекурсивная функция для вычисления суммы цифр числа.
    """
    if n == 0:
        return 0
    return (n % 10) + sum_digits(n // 10)

# Запуск задачи А
print("=" * 50)
print("БЛОК А: ЗАДАЧА 4 - Сумма цифр числа")
print("=" * 50)

# Ввод числа N
N = None
while N is None:
    try:
        N_input = input("Введите натуральное число N: ").strip()
        if not N_input:
            print("✗ Ошибка: вы ничего не ввели! Попробуйте снова.")
            continue
            
        N = int(N_input)
        if N < 0:
            N = -N  # Берем модуль для отрицательных чисел
            print(f"✓ Взято абсолютное значение: {N}")
            
    except ValueError:
        print("✗ Ошибка: введите целое число!")
    except KeyboardInterrupt:
        print("\n\nВвод прерван.")
        break

if N is not None:
    result = sum_digits(N)
    print(f"✓ Сумма цифр числа {N}: {result}")

print("\n" + "=" * 50)


"""
========== БЛОК Б: ЗАДАЧА 3 ==========
Дана последовательность натуральных чисел (одно число в строке),
завершающаяся числом 0. Выведите первое, третье, пятое и т.д. из
введенных чисел. Завершающий ноль выводить не надо.
"""

def collect_odd_positions():
    """
    Рекурсивная функция для сбора элементов на нечётных позициях
    Возвращает список чисел на нечётных позициях
    """
    # Читаем ввод для нечётной позиции
    while True:
        try:
            user_input = input()
            # Пропускаем пустые строки
            if user_input.strip() == "":
                continue
                
            # Пробуем преобразовать в число
            try:
                num1 = int(user_input)
            except ValueError:
                # Если не число - пропускаем и продолжаем
                continue
                
            # Если ввели 0 - завершаем
            if num1 == 0:
                return []
                
            # Теперь читаем для чётной позиции (чтобы пропустить её)
            while True:
                try:
                    user_input2 = input()
                    # Пропускаем пустые строки
                    if user_input2.strip() == "":
                        continue
                        
                    # Пробуем преобразовать в число
                    try:
                        num2 = int(user_input2)
                    except ValueError:
                        # Если не число - продолжаем читать
                        continue
                        
                    # Если ввели 0 - завершаем
                    if num2 == 0:
                        # Но нечётное число уже есть, его нужно вернуть
                        return [num1]
                    
                    # Если это обычное число на чётной позиции - выходим из цикла
                    break
                    
                except (EOFError, KeyboardInterrupt):
                    # Если ввод прерван, возвращаем то, что собрали
                    return [num1]
            
            # Рекурсивно собираем остальные нечётные числа
            rest = collect_odd_positions()
            return [num1] + rest
            
        except (EOFError, KeyboardInterrupt):
            # Если ввод прерван
            return []

# Запуск задачи Б
print("\n" + "=" * 50)
print("БЛОК Б: ЗАДАЧА 3 - Элементы на нечётных позициях")
print("=" * 50)
print("Инструкция:")
print("1. Вводите числа по одному в строке")
print("2. Для завершения введите 0")
print("3. Пустые строки будут пропущены")
print("4. Некорректный ввод будет пропущен")
print("-" * 50)

print("Начинайте ввод чисел (0 для завершения):")
odd_numbers = collect_odd_positions()

print("\n" + "=" * 50)
print("Результат:")
if odd_numbers:
    print("Элементы на нечётных позициях:", " ".join(map(str, odd_numbers)))
else:
    print("Элементы на нечётных позициях: <пусто>")
print("=" * 50)
